<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('partials/head.ejs') %>

    <script>
      'use strict';

      $(function () {

        const recentPolls = JSON.parse('<%- recentPolls %>');
        console.log(recentPolls);

        for (const poll of recentPolls) {

          let pollPreviewTemplate = $('#pollPreviewTemplate')[0].content;

          let cloned = $(pollPreviewTemplate.cloneNode(true));

          let href = cloned.children().children().children().attr('href');

          cloned.children().children().children().attr('href', href + poll.uuid);
          cloned.children().children().children().text(poll.title);

          $('#mostRecent').append(cloned);
        }

      });

    </script>

</head>

<!-- Includes Body and container div opening tags as well as <header> -->
<%- include('partials/header.ejs') %>

  <div class="row">

    <div class="col" id="mostRecent"></div>

  </div>

  <!-- Includes Body and container closing tags as well as <footer> -->
  <%- include('partials/footer.ejs') %>

</html>

<template id="pollPreviewTemplate">

  <div class="row">

    <div class="col">

      <a href="poll/">title</a>

    </div>

  </div>

</template>